{"version":3,"sources":["../../src/server/index.js"],"names":["require","config","PORT","process","env","app","use","express","static","path","resolve","__dirname","json","get","req","res","sendFile","join","err","status","send","listen","console","log","setInterval","sendLeaves","removeLeaves"],"mappings":";;;;AAAA;;AACA;;AACA;;AACA;;AAEAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,MAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IAAjC;AACA,MAAMG,GAAG,GAAG,uBAAZ;AAEA;AAEAA,GAAG,CAACC,GAAJ,CAAQC,iBAAQC,MAAR,CAAeC,cAAKC,OAAL,CAAaC,SAAb,EAAwB,kBAAxB,CAAf,CAAR;AACAN,GAAG,CAACC,GAAJ,CAAQC,iBAAQK,IAAR,EAAR;AAOAP,GAAG,CAACC,GAAJ,CAAQ,YAAR,EAAsBN,OAAO,CAAC,sBAAD,CAA7B;AACAK,GAAG,CAACC,GAAJ,CAAQ,YAAR,EAAsBN,OAAO,CAAC,sBAAD,CAA7B;AAEAK,GAAG,CAACQ,GAAJ,CAAQ,IAAR,EAAc,UAASC,GAAT,EAAcC,GAAd,EAAmB;AAC7BA,EAAAA,GAAG,CAACC,QAAJ,CAAaP,cAAKQ,IAAL,CAAUN,SAAV,EAAqB,mBAArB,CAAb,EAAwD,UAASO,GAAT,EAAc;AAClE,QAAIA,GAAJ,EAAS;AACLH,MAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,GAArB;AACH;AACJ,GAJD;AAKH,CAND;AAUAb,GAAG,CAACgB,MAAJ,CAAWnB,IAAX,EAAiB,MACjBoB,OAAO,CAACC,GAAR,CAAa,kCAAiCrB,IAAK,GAAnD,CADA;AAIAsB,WAAW,CAACC,wBAAD,EAAa,OAAK,EAAL,GAAQ,EAArB,CAAX;AACAD,WAAW,CAACE,0BAAD,EAAe,OAAK,EAAL,GAAQ,EAAvB,CAAX","sourcesContent":["import express from \"express\";\nimport path from \"path\";\nimport {dbConnection} from './database/config';\nimport {sendLeaves, removeLeaves} from './helpers/handleLeaves'\n// const cors = require('cors')\nrequire('dotenv').config()\n\nconst PORT = process.env.PORT || 3000\nconst app = express();\n\ndbConnection()\n// app.use(cors({credentials: true, origin: 'http://127.0.0.1:5500'}));\napp.use(express.static(path.resolve(__dirname, \"../../bin/client\")));\napp.use(express.json())\n\n\n\n\n//Routes\n\napp.use(\"/api/users\", require(\"./routes/UsersRoutes\"))\napp.use(\"/api/trees\", require(\"./routes/TreesRoutes\"))\n\napp.get('/*', function(req, res) {\n    res.sendFile(path.join(__dirname, '../../bin/client/'), function(err) {\n        if (err) {\n            res.status(500).send(err)\n        }\n    })\n})\n\n\n//Server\napp.listen(PORT, () =>\nconsole.log(`ðŸš€ Server is listening on port ${PORT}.`),\n);\n\nsetInterval(sendLeaves, 1000*60*15);\nsetInterval(removeLeaves, 1000*60*60);"],"file":"index.js"}