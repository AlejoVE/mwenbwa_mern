{"version":3,"sources":["../../src/server/index.js"],"names":["require","config","PORT","process","env","APP_PORT","app","use","express","static","path","resolve","__dirname","json","setInterval","sendLeaves","removeLeaves","get","req","res","sendFile","join","err","status","send","listen","console","log"],"mappings":";;;;AAAA;;AACA;;AACA;;AACA;;AAEAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,MAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAzB;AACA,MAAMC,GAAG,GAAG,uBAAZ;AAEA;AAEAA,GAAG,CAACC,GAAJ,CAAQC,iBAAQC,MAAR,CAAeC,cAAKC,OAAL,CAAaC,SAAb,EAAwB,kBAAxB,CAAf,CAAR;AACAN,GAAG,CAACC,GAAJ,CAAQC,iBAAQK,IAAR,EAAR;AAGAC,WAAW,CAACC,wBAAD,EAAa,OAAK,EAAL,GAAQ,EAArB,CAAX;AACAD,WAAW,CAACE,0BAAD,EAAe,OAAK,EAAL,GAAQ,EAAvB,CAAX;AAMAV,GAAG,CAACC,GAAJ,CAAQ,YAAR,EAAsBP,OAAO,CAAC,sBAAD,CAA7B;AACAM,GAAG,CAACC,GAAJ,CAAQ,YAAR,EAAsBP,OAAO,CAAC,sBAAD,CAA7B;AAEAM,GAAG,CAACW,GAAJ,CAAQ,IAAR,EAAc,UAASC,GAAT,EAAcC,GAAd,EAAmB;AAC7BA,EAAAA,GAAG,CAACC,QAAJ,CAAaV,cAAKW,IAAL,CAAUT,SAAV,EAAqB,mBAArB,CAAb,EAAwD,UAASU,GAAT,EAAc;AAClE,QAAIA,GAAJ,EAAS;AACTH,MAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,GAArB;AACC;AACJ,GAJD;AAKH,CAND;AAUAhB,GAAG,CAACmB,MAAJ,CAAWvB,IAAX,EAAiB,MACbwB,OAAO,CAACC,GAAR,CAAa,kCAAiCzB,IAAK,GAAnD,CADJ","sourcesContent":["import express from \"express\";\nimport path from \"path\";\nimport {dbConnection} from './database/config';\nimport {sendLeaves, removeLeaves} from './helpers/handleLeaves'\n// const cors = require('cors')\nrequire('dotenv').config()\n\nconst PORT = process.env.APP_PORT\nconst app = express();\n\ndbConnection()\n// app.use(cors({credentials: true, origin: 'http://127.0.0.1:5500'}));\napp.use(express.static(path.resolve(__dirname, \"../../bin/client\")));\napp.use(express.json())\n\n\nsetInterval(sendLeaves, 1000*60*15);\nsetInterval(removeLeaves, 1000*60*60);\n\n\n\n//Routes\n\napp.use(\"/api/users\", require(\"./routes/UsersRoutes\"))\napp.use(\"/api/trees\", require(\"./routes/TreesRoutes\"))\n\napp.get('/*', function(req, res) {\n    res.sendFile(path.join(__dirname, '../../bin/client/'), function(err) {\n        if (err) {\n        res.status(500).send(err)\n        }\n    })\n})\n\n\n//Server\napp.listen(PORT, () =>\n    console.log(`ðŸš€ Server is listening on port ${PORT}.`),\n);"],"file":"index.js"}