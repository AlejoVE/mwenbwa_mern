{"version":3,"sources":["../../../src/server/helpers/removeTree.js"],"names":["UserModel","require","removeTree","ownerId","treeId","user","find","_id","trees","filter","tree","treesCount","findOneAndUpdate","err","console","log","module","exports"],"mappings":";;AAAA,MAAMA,SAAS,GAAGC,OAAO,CAAE,qBAAF,CAAzB;;AAEA,MAAMC,UAAU,GAAG,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;AAE1C,MAAG;AAEC,UAAMC,IAAI,GAAG,MAAML,SAAS,CAACM,IAAV,CAAe;AAACC,MAAAA,GAAG,EAAEJ;AAAN,KAAf,CAAnB;AACA,UAAMK,KAAK,GAAGH,IAAI,CAAC,CAAD,CAAJ,CAAQG,KAAR,CAAcC,MAAd,CAAqBC,IAAI,IAAIA,IAAI,IAAIN,MAArC,CAAd;AACA,UAAMO,UAAU,GAAGN,IAAI,CAAC,CAAD,CAAJ,CAAQM,UAAR,GAAqB,CAAxC;AACA,UAAMX,SAAS,CAACY,gBAAV,CAA2B;AAACL,MAAAA,GAAG,EAAEJ;AAAN,KAA3B,EAA2C;AAACK,MAAAA,KAAK,EAAEA,KAAR;AAAeG,MAAAA,UAAU,EAAEA;AAA3B,KAA3C,CAAN;AAEH,GAPD,CAOE,OAAOE,GAAP,EAAY;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH;AAEJ,CAbD;;AAeAG,MAAM,CAACC,OAAP,GAAe;AAACf,EAAAA;AAAD,CAAf","sourcesContent":["const UserModel = require ('../models/UserModel')\n\nconst removeTree = async (ownerId, treeId) => {\n    \n    try{\n        \n        const user = await UserModel.find({_id: ownerId})\n        const trees = user[0].trees.filter(tree => tree != treeId)\n        const treesCount = user[0].treesCount - 1\n        await UserModel.findOneAndUpdate({_id: ownerId}, {trees: trees, treesCount: treesCount})\n\n    } catch (err) {\n        console.log(err)\n    }\n\n}\n\nmodule.exports={removeTree}"],"file":"removeTree.js"}